##### docker 学习笔记-初始

##### 容器技术
容器技术是一种全新意义上的虚拟化技术，按分类或者实现方式来说，其应该属于操作系统虚拟化的范畴，也就是在由操作系统提供虚拟化的支持。
所谓容器技术，指的是操作系统自身支持一些接口，能够让应用程序间可以互不干扰的独立运行，并且能够对其在运行中所使用的资源进行干预
keyword：隔离，独立

##### 容器 VS 虚拟器
![容器 VS 虚拟器](https://github.com/sqh17/notes/blob/master/images/docker_1.png)

容器对比虚拟机少了虚拟操作系统和虚拟机监视器这两个层次，大幅减少了应用程序运行带来的额外消耗，但是由于没有指令转换不能解决程序跨平台兼容的问题。牺牲跨平台兼容问题，提高效率和资源利用。

##### Docker 项目是一个由 Go 语言实现的容器引擎

###### docker能做什么
1. 更快、更一致的交付你的应用程序
  使用 Docker 后，开发者能够在本地容器中得到一套标准的应用或服务的运行环境，由此可以简化开发的生命周期 ( 减少在不同环境间进行适配、调整所造成的额外消耗 )。对于整个应用迭代来说，加入 Docker 的工作流程将更加适合持续集成 ( Continuous Integration ) 和持续交付 ( Continuous Delivery )。
    举个具体的例子：
    * 开发者能够使用 Docker 在本地编写代码并通过容器与其他同事共享他们的工作。
    * 他们能够使用 Docker 将编写好的程序推送至测试环境进行自动化测试或是人工测试。
    * 当出现 Bugs 时，开发者可以在开发环境中修复它们，并很快的重新部署到测试环境中。
    * 在测试完成后，部署装有应用程序的镜像就能完成生产环境的发布。
2. 跨平台部署和动态伸缩
3. 让同样的硬件提供更多的产出能力
Docker 的高效和轻量等特征，为替代基于 Hypervisor 的虚拟机提供了一个经济、高效、可行的方案。在 Docker 下，你能节约出更多的资源投入到业务中去，让应用程序产生更高的效益。同时，如此低的资源消耗也说明了 Docker 非常适合在高密度的中小型部署场景中使用。

##### docker核心组成
1. 镜像（Images）
只读文件包，其中包含了虚拟环境运行最原始文件系统的内容。
增量式镜像结构（Docker 的镜像实质上是无法被修改的，因为所有对镜像的修改只会产生新的镜像，而不是更新原有的镜像）
Docker 镜像其实是由基于 UnionFS 文件系统的一组镜像层依次挂载而得，而每个镜像层包含的其实是对上一镜像层的修改，这些修改其实是发生在容器运行的过程中的。所以可以反过来理解，镜像是对容器运行环境进行持久化存储的结果。
2. 容器（Container）
隔离出来的一种虚拟环境。
3. 网络（Network）
数据交换，容器间建立虚拟网络，将数个容器包裹其中，同时与其他网络环境隔离。
利用一些技术，Docker 能够在容器中营造独立的域名解析环境，这使得我们可以在不修改代码和配置的前提下直接迁移容器，Docker 会为我们完成新环境的网络适配。对于这个功能，我们甚至能够在不同的物理服务器间实现，让处在两台物理机上的两个 Docker 所提供的容器，加入到同一个虚拟网络中，形成完全屏蔽硬件的效果
4. 数据卷（Volume）
Union File System 技术

##### docker安装
1. 镜像源
在 Linux 环境下，我们可以通过修改 \/etc/docker/daemon.json ( 如果文件不存在，你可以直接创建它 ) 这个 Docker 服务的配置文件达到效果。
```
{
    "registry-mirrors": [
        "https://registry.docker-cn.com"
    ]
}
```
在修改之后，别忘了重新启动 docker daemon 来让配置生效哟：
```
sudo systemctl restart docker
```
要验证我们配置的镜像源是否生效，我们可以通过 docker info 来查阅当前注册的镜像源列表。
``` 
sudo docker info
```
2. 直接安装Docker Desktop即可
原理：既然 Windows 和 macOS 中没有 Docker 能够利用的 Linux 环境，创造一个 Linux 环境就！Docker for Windows 和 Docker for Mac 正是这么实现的。


##### docker常见命令
```
docker info // 查看docker具体实例

docker images // 查看docker所下的镜像

docker pull 镜像名 // 获取镜像

docker search 镜像名 // 通过docker hub里获取镜像

docker inspect 镜像名 // 获取镜像的具体详细信息

docker rmi 镜像名 // 删除镜像
```

